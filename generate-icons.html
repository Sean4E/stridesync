<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StrideSync Icon Generator</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            background: #1a1a24;
            color: white;
            padding: 40px;
            max-width: 1200px;
            margin: 0 auto;
        }
        h1 { margin-bottom: 20px; }
        .icons { display: flex; flex-wrap: wrap; gap: 20px; margin-bottom: 40px; }
        .icon-item {
            background: #12121a;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
        }
        .icon-item canvas {
            display: block;
            margin: 0 auto 10px;
            border-radius: 20%;
        }
        .icon-item p { font-size: 12px; color: #888; margin: 5px 0; }
        .icon-item a {
            display: inline-block;
            margin-top: 10px;
            padding: 8px 16px;
            background: #6366f1;
            color: white;
            border-radius: 8px;
            text-decoration: none;
            font-size: 12px;
        }
        .icon-item a:hover { background: #818cf8; }
        .instructions {
            background: #12121a;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 40px;
        }
        .instructions h2 { margin-top: 0; }
        .instructions ol { padding-left: 20px; }
        .instructions li { margin-bottom: 10px; }
        code {
            background: #0a0a0f;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 13px;
        }
    </style>
</head>
<body>
    <h1>StrideSync Icon Generator</h1>

    <div class="instructions">
        <h2>Instructions</h2>
        <ol>
            <li>Click "Download" on each icon below to save it</li>
            <li>Save all icons to the <code>icons/</code> folder</li>
            <li>The apple-touch-icon.png should be a copy of icon-180.png</li>
        </ol>
    </div>

    <div class="icons" id="icons"></div>

    <script>
        const sizes = [16, 32, 72, 96, 128, 144, 152, 180, 192, 384, 512];
        const maskableSizes = [192, 512];

        function drawIcon(ctx, size, maskable = false) {
            const s = size;
            const r = s * 0.1875; // Corner radius ratio

            // Clear
            ctx.clearRect(0, 0, s, s);

            // Background gradient
            const grad = ctx.createLinearGradient(0, 0, s, s);
            grad.addColorStop(0, '#6366f1');
            grad.addColorStop(1, '#818cf8');

            // Rounded rect background
            ctx.beginPath();
            if (maskable) {
                // Full square for maskable
                ctx.rect(0, 0, s, s);
            } else {
                ctx.roundRect(0, 0, s, s, r);
            }
            ctx.fillStyle = grad;
            ctx.fill();

            // Icon lines
            ctx.strokeStyle = '#ffffff';
            ctx.lineWidth = s * 0.07;
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';

            const cx = s / 2;
            const padding = maskable ? s * 0.25 : s * 0.2;
            const top = padding;
            const bottom = s - padding;
            const mid = s / 2;
            const spread = s * 0.19;

            // Top chevron
            ctx.beginPath();
            ctx.moveTo(cx - spread, top + spread * 0.6);
            ctx.lineTo(cx, top);
            ctx.lineTo(cx + spread, top + spread * 0.6);
            ctx.stroke();

            // Middle vertical line
            ctx.beginPath();
            ctx.moveTo(cx, top);
            ctx.lineTo(cx, bottom);
            ctx.stroke();

            // Bottom chevron
            ctx.beginPath();
            ctx.moveTo(cx - spread, bottom - spread * 0.6);
            ctx.lineTo(cx, bottom);
            ctx.lineTo(cx + spread, bottom - spread * 0.6);
            ctx.stroke();
        }

        function createIcon(size, maskable = false) {
            const canvas = document.createElement('canvas');
            canvas.width = size;
            canvas.height = size;
            const ctx = canvas.getContext('2d');
            drawIcon(ctx, size, maskable);
            return canvas;
        }

        function downloadCanvas(canvas, filename) {
            const link = document.createElement('a');
            link.download = filename;
            link.href = canvas.toDataURL('image/png');
            link.click();
        }

        // Generate regular icons
        const container = document.getElementById('icons');

        sizes.forEach(size => {
            const div = document.createElement('div');
            div.className = 'icon-item';

            const canvas = createIcon(size);
            div.appendChild(canvas);

            const p = document.createElement('p');
            p.textContent = `${size}x${size}`;
            div.appendChild(p);

            const filename = size === 180 ? 'apple-touch-icon.png' : `icon-${size}.png`;
            const link = document.createElement('a');
            link.textContent = 'Download';
            link.href = '#';
            link.onclick = (e) => {
                e.preventDefault();
                downloadCanvas(canvas, filename);
                if (size === 180) {
                    // Also download as icon-180.png
                    setTimeout(() => downloadCanvas(canvas, 'icon-180.png'), 100);
                }
            };
            div.appendChild(link);

            container.appendChild(div);
        });

        // Generate maskable icons
        maskableSizes.forEach(size => {
            const div = document.createElement('div');
            div.className = 'icon-item';

            const canvas = createIcon(size, true);
            div.appendChild(canvas);

            const p = document.createElement('p');
            p.textContent = `${size}x${size} (maskable)`;
            div.appendChild(p);

            const link = document.createElement('a');
            link.textContent = 'Download';
            link.href = '#';
            link.onclick = (e) => {
                e.preventDefault();
                downloadCanvas(canvas, `icon-maskable-${size}.png`);
            };
            div.appendChild(link);

            container.appendChild(div);
        });
    </script>
</body>
</html>
